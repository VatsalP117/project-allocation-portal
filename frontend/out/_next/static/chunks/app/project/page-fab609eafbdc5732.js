(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[880],{5376:function(e,t,r){Promise.resolve().then(r.bind(r,7292))},7292:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return M}});var n=r(7437),l=r(1270),a=r(2670),i=r(248),s=r(5890),o=r(7307),c=r(5754),u=r(8670),d=r(1657),f=r(553),m=r(9259),h=r(7658),p=r(7474),v=r(7907),x=r(5216),g=r(9323);r(3367);var b=r(541);r(180);var y=r(4848),j=r(2265);function w(e){let t="dark"==(0,y.F)().resolvedTheme?b.V8:b.hp,r=(0,b.$c)({initialContent:e.initial});return(0,j.useEffect)(()=>{console.log(r)},[]),(0,n.jsx)(b.L6,{editor:r,editable:e.editable,className:"-mt-3",theme:t,onChange:()=>{e.setDescription(r.document)}})}var S=r(5179),C=r(1478),k=r(6288),N=r(3930),E=r(7390),I=r(4830),A=r(8e3);let _=I.Z.map(e=>({key:e,value:e})),R=[{label:"Open",value:"Open"},{label:"Closed",value:"Closed"},{label:"Completed",value:"Completed"}],D=i.z.object({project_title:i.z.string().min(3,{message:"Project Title must be at least 3 characters."}),status:i.z.string({required_error:"A status is required."}),date:i.z.date({required_error:"A date is required."}).min(new Date,"Date must be in the future"),minStudents:i.z.number().min(1,{message:"Minimum students must be at least 1"}),maxStudents:i.z.number().min(1,{message:"Maximum students must be at least 1"})}).refine(e=>e.maxStudents>=e.minStudents,{message:"Maximum Students must be greater than Min Students.",path:["maxStudents"]});var M=(0,E.Z)(function(e){let t=(0,v.useSearchParams)().get("projectId"),[r,i]=(0,j.useState)(""),[b,y]=(0,j.useState)(null),E=(0,v.useRouter)(),[I,M]=(0,j.useState)([]),[P,F]=(0,j.useState)([]),[V,z]=(0,j.useState)(""),O=_.filter(e=>e.value.toLowerCase().includes(V.toLowerCase()));(0,j.useEffect)(()=>{"new"!==t?fetch("".concat("","/api/faculty/getprojectdescription"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectid:t}),withCredentials:!0}).then(e=>e.json()).then(t=>{$.reset({project_title:t.project_title,status:t.status,date:new Date(t.date),gpsrn:e.user.id,minStudents:t.minStudents,maxStudents:t.maxStudents}),M(t.tags||[]),F(t.description),y(t)}):$.reset({minStudents:1,maxStudents:1})},[]),(0,j.useEffect)(()=>{i(e.user.id)},[]);let W=e=>{if(I.includes(e)){let t=[...I],r=t.indexOf(e);t.splice(r,1),M(t)}else M(t=>[...t,e])},Z=e=>!!I.includes(e),$=(0,a.cI)({resolver:(0,l.F)(D),mode:"onChange"});async function q(r){if("new"===t)try{let t=await fetch("".concat("","/api/faculty/createproject"),{method:"POST",headers:{"Content-Type":"application/json"},witthCredentials:!0,body:JSON.stringify({...r,date:r.date.toDateString(),tags:I,description:P,gpsrn:e.user.id})});200===t.status?((0,k.A)("Project added successfully"),E.push("/faculty")):(0,k.A)("Failed to add project")}catch(e){console.log(e),(0,k.A)("unable to connect to server")}else try{let n=await fetch("".concat("","/api/faculty/editproject"),{method:"POST",headers:{"Content-Type":"application/json"},witthCredentials:!0,body:JSON.stringify({...r,date:r.date.toDateString(),tags:I,description:P,projectid:t,gpsrn:e.user.id})});200===n.status?((0,k.A)("Project Updated Successfully"),E.push("/faculty")):(0,k.A)("Failed to update project")}catch(e){console.log(e),(0,k.A)("unable to connect to server")}}return(0,n.jsxs)("div",{className:"container pt-12 flex flex-col",children:[(0,n.jsx)(A.Z,{}),(0,n.jsx)("h1",{className:"text-5xl font-bold mb-8",children:"Project Details"}),(0,n.jsx)(p.l0,{...$,children:(0,n.jsxs)("form",{onSubmit:$.handleSubmit(q),className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex flex-row gap-20 items-center",children:[(0,n.jsx)(p.Wi,{control:$.control,name:"project_title",render:e=>{let{field:t}=e;return(0,n.jsxs)(p.xJ,{id:"project_title",children:[(0,n.jsx)(p.lX,{children:"Project Title"}),(0,n.jsx)(p.NI,{children:(0,n.jsx)(S.I,{...t,defaultValue:null==b?void 0:b.project_title})}),(0,n.jsx)(p.zG,{})]})}}),(0,n.jsx)(p.Wi,{control:$.control,name:"status",render:e=>{var t;let{field:r}=e;return(0,n.jsxs)(p.xJ,{className:"flex flex-col h-full mt-2 ml-3 ",children:[(0,n.jsx)(p.lX,{children:"Status"}),(0,n.jsxs)(x.J2,{children:[(0,n.jsx)(x.xo,{asChild:!0,children:(0,n.jsx)(p.NI,{children:(0,n.jsxs)(c.z,{variant:"outline",role:"combobox",className:(0,d.cn)("w-[200px] justify-between",!r.value&&"text-muted-foreground"),children:[r.value?null===(t=R.find(e=>e.value===r.value))||void 0===t?void 0:t.label:"Select status",(0,n.jsx)(f.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})})}),(0,n.jsx)(x.yk,{className:"w-[200px] p-0",children:(0,n.jsxs)(g.mY,{children:[(0,n.jsx)(g.sZ,{placeholder:"Search status..."}),(0,n.jsx)(g.rb,{children:"Not found."}),(0,n.jsx)(g.e8,{children:R.map(e=>(0,n.jsxs)(g.di,{value:e.label,onSelect:()=>{$.setValue("status",e.value)},children:[(0,n.jsx)(m.Z,{className:(0,d.cn)("mr-2 h-4 w-4",e.value===r.value?"opacity-100":"opacity-0")}),e.label]},e.value))})]})})]}),(0,n.jsx)(p.zG,{})]})}})]}),(0,n.jsxs)("div",{className:"flex flex-row gap-16 items-center",children:[(0,n.jsx)(p.Wi,{control:$.control,name:"date",render:e=>{let{field:t}=e;return(0,n.jsxs)(p.xJ,{className:"flex flex-col",children:[(0,n.jsx)(p.lX,{children:"Start Date"}),(0,n.jsxs)(x.J2,{children:[(0,n.jsx)(x.xo,{asChild:!0,children:(0,n.jsx)(p.NI,{children:(0,n.jsxs)(c.z,{variant:"outline",className:(0,d.cn)("w-[240px] pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?(0,s.WU)(t.value,"PPP"):(0,n.jsx)("span",{children:"Date"}),(0,n.jsx)(o.Z,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),(0,n.jsx)(x.yk,{className:"w-auto p-0",align:"start",children:(0,n.jsx)(h.f,{mode:"single",selected:t.value,onSelect:t.onChange,initialFocus:!0})})]}),(0,n.jsx)(p.zG,{})]})}}),(0,n.jsx)(p.Wi,{control:$.control,name:"minStudents",render:e=>{let{field:t}=e;return(0,n.jsxs)(p.xJ,{children:[(0,n.jsx)(p.lX,{children:"Minimum Students"}),(0,n.jsx)(p.NI,{children:(0,n.jsx)(S.I,{type:"number",placeholder:"Minimum Students",...t,onChange:e=>t.onChange(e.target.valueAsNumber),defaultValue:1})}),(0,n.jsx)(p.zG,{})]})}}),(0,n.jsx)(p.Wi,{control:$.control,name:"maxStudents",render:e=>{let{field:t}=e;return(0,n.jsxs)(p.xJ,{children:[(0,n.jsx)(p.lX,{children:"Maximum Students"}),(0,n.jsx)(p.NI,{children:(0,n.jsx)(S.I,{type:"number",placeholder:"Maximum Students",...t,onChange:e=>t.onChange(e.target.valueAsNumber),defaultValue:1})}),(0,n.jsx)(p.zG,{})]})}})]}),(0,n.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,n.jsxs)(N.h_,{children:[(0,n.jsx)(N.$F,{asChild:!0,children:(0,n.jsx)(c.z,{variant:"outline",className:"flex gap-2 font-bold",children:(0,n.jsx)("span",{children:"Select Domains"})})}),(0,n.jsxs)(N.AW,{className:"w-[50vw] max-h-96 overflow-y-auto m-12",onCloseAutoFocus:e=>e.preventDefault(),children:[(0,n.jsx)(N.VD,{}),(0,n.jsx)("div",{className:"px-2 py-2",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(u.Z,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,n.jsx)(S.I,{placeholder:"Search Domains...",value:V,onChange:e=>z(e.target.value),className:"pl-8",onKeyDown:e=>e.stopPropagation()})]})}),(0,n.jsx)(N.VD,{}),O.map((e,t)=>(0,n.jsx)(N.bO,{onSelect:e=>e.preventDefault(),checked:Z(e.key),onCheckedChange:()=>W(e.key),children:e.value},t))]})]}),(0,n.jsx)("div",{className:"flex flex-row gap-2 flex-wrap",children:I.map(e=>(0,n.jsx)(C.C,{children:e.length>50?e.slice(0,50)+"...":e},e))})]}),(0,n.jsx)("h3",{children:"Project Description"}),(0,n.jsxs)(C.C,{variant:"outline",children:["Faculty GPSRN : ",r]}),(b||"new"===t)&&(0,n.jsx)(w,{editable:!0,setDescription:F,initial:null==b?void 0:b.description}),(0,n.jsx)(c.z,{type:"submit",children:"Submit"})]})})]})},"faculty")},8e3:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(7437),l=r(5754);function a(){return(0,n.jsx)(l.z,{onClick:()=>window.history.back(),size:"icon",className:"mb-6",children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-arrow-left",children:[(0,n.jsx)("path",{d:"m12 19-7-7 7-7"}),(0,n.jsx)("path",{d:"M19 12H5"})]})})}},7658:function(e,t,r){"use strict";r.d(t,{f:function(){return c}});var n=r(7437);r(2265);var l=r(9108),a=r(7805),i=r(4719),s=r(1657),o=r(5754);function c(e){let{className:t,classNames:r,showOutsideDays:c=!0,...u}=e;return(0,n.jsx)(i._W,{showOutsideDays:c,className:(0,s.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,s.cn)((0,o.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,s.cn)((0,o.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{IconLeft:e=>{let{...t}=e;return(0,n.jsx)(l.Z,{className:"h-4 w-4"})},IconRight:e=>{let{...t}=e;return(0,n.jsx)(a.Z,{className:"h-4 w-4"})}},...u})}c.displayName="Calendar"},7474:function(e,t,r){"use strict";r.d(t,{NI:function(){return v},Wi:function(){return d},l0:function(){return c},lX:function(){return p},xJ:function(){return h},zG:function(){return x}});var n=r(7437),l=r(2265),a=r(9143),i=r(2670),s=r(1657),o=r(9842);let c=i.RV,u=l.createContext({}),d=e=>{let{...t}=e;return(0,n.jsx)(u.Provider,{value:{name:t.name},children:(0,n.jsx)(i.Qr,{...t})})},f=()=>{let e=l.useContext(u),t=l.useContext(m),{getFieldState:r,formState:n}=(0,i.Gc)(),a=r(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:s}=t;return{id:s,name:e.name,formItemId:"".concat(s,"-form-item"),formDescriptionId:"".concat(s,"-form-item-description"),formMessageId:"".concat(s,"-form-item-message"),...a}},m=l.createContext({}),h=l.forwardRef((e,t)=>{let{className:r,...a}=e,i=l.useId();return(0,n.jsx)(m.Provider,{value:{id:i},children:(0,n.jsx)("div",{ref:t,className:(0,s.cn)("space-y-2",r),...a})})});h.displayName="FormItem";let p=l.forwardRef((e,t)=>{let{className:r,...l}=e,{error:a,formItemId:i}=f();return(0,n.jsx)(o._,{ref:t,className:(0,s.cn)(a&&"text-destructive",r),htmlFor:i,...l})});p.displayName="FormLabel";let v=l.forwardRef((e,t)=>{let{...r}=e,{error:l,formItemId:i,formDescriptionId:s,formMessageId:o}=f();return(0,n.jsx)(a.g7,{ref:t,id:i,"aria-describedby":l?"".concat(s," ").concat(o):"".concat(s),"aria-invalid":!!l,...r})});v.displayName="FormControl",l.forwardRef((e,t)=>{let{className:r,...l}=e,{formDescriptionId:a}=f();return(0,n.jsx)("p",{ref:t,id:a,className:(0,s.cn)("text-sm text-muted-foreground",r),...l})}).displayName="FormDescription";let x=l.forwardRef((e,t)=>{let{className:r,children:l,...a}=e,{error:i,formMessageId:o}=f(),c=i?String(null==i?void 0:i.message):l;return c?(0,n.jsx)("p",{ref:t,id:o,className:(0,s.cn)("text-sm font-medium text-destructive",r),...a,children:c}):null});x.displayName="FormMessage"},9842:function(e,t,r){"use strict";r.d(t,{_:function(){return c}});var n=r(7437),l=r(2265),a=r(4602),i=r(7742),s=r(1657);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)(a.f,{ref:t,className:(0,s.cn)(o(),r),...l})});c.displayName=a.f.displayName},553:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(843).Z)("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]])},8670:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(843).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8594:function(e,t,r){"use strict";r.d(t,{mY:function(){return _}});var n=/[\\\/_+.#"@\[\(\{&]/,l=/[\\\/_+.#"@\[\(\{&]/g,a=/[\s-]/,i=/[\s-]/g;function s(e){return e.toLowerCase().replace(i," ")}var o=r(2936),c=r(2265),u=r(9586),d='[cmdk-group=""]',f='[cmdk-group-items=""]',m='[cmdk-item=""]',h=`${m}:not([aria-disabled="true"])`,p="cmdk-item-select",v="data-value",x=(e,t,r)=>{var o;return o=e,function e(t,r,s,o,c,u,d){if(u===r.length)return c===t.length?1:.99;var f=`${c},${u}`;if(void 0!==d[f])return d[f];for(var m,h,p,v,x=o.charAt(u),g=s.indexOf(x,c),b=0;g>=0;)(m=e(t,r,s,o,g+1,u+1,d))>b&&(g===c?m*=1:n.test(t.charAt(g-1))?(m*=.8,(p=t.slice(c,g-1).match(l))&&c>0&&(m*=Math.pow(.999,p.length))):a.test(t.charAt(g-1))?(m*=.9,(v=t.slice(c,g-1).match(i))&&c>0&&(m*=Math.pow(.999,v.length))):(m*=.17,c>0&&(m*=Math.pow(.999,g-c))),t.charAt(g)!==r.charAt(u)&&(m*=.9999)),(m<.1&&s.charAt(g-1)===o.charAt(u+1)||o.charAt(u+1)===o.charAt(u)&&s.charAt(g-1)!==o.charAt(u))&&.1*(h=e(t,r,s,o,g+1,u+2,d))>m&&(m=.1*h),m>b&&(b=m),g=s.indexOf(x,g+1);return d[f]=b,b}(o=r&&r.length>0?`${o+" "+r.join(" ")}`:o,t,s(o),s(t),0,0,{})},g=c.createContext(void 0),b=()=>c.useContext(g),y=c.createContext(void 0),j=()=>c.useContext(y),w=c.createContext(void 0),S=c.forwardRef((e,t)=>{let r=M(()=>{var t,r;return{search:"",value:null!=(r=null!=(t=e.value)?t:e.defaultValue)?r:"",filtered:{count:0,items:new Map,groups:new Set}}}),n=M(()=>new Set),l=M(()=>new Map),a=M(()=>new Map),i=M(()=>new Set),s=R(e),{label:o,children:b,value:j,onValueChange:w,filter:S,shouldFilter:C,loop:k,disablePointerSelection:N=!1,vimBindings:E=!0,...I}=e,A=c.useId(),_=c.useId(),P=c.useId(),F=c.useRef(null),V=z();D(()=>{if(void 0!==j){let e=j.trim();r.current.value=e,Z.emit()}},[j]),D(()=>{V(6,K)},[]);let Z=c.useMemo(()=>({subscribe:e=>(i.current.add(e),()=>i.current.delete(e)),snapshot:()=>r.current,setState:(e,t,n)=>{var l,a,i;if(!Object.is(r.current[e],t)){if(r.current[e]=t,"search"===e)G(),L(),V(1,J);else if("value"===e&&(n||V(5,K),(null==(l=s.current)?void 0:l.value)!==void 0)){null==(i=(a=s.current).onValueChange)||i.call(a,null!=t?t:"");return}Z.emit()}},emit:()=>{i.current.forEach(e=>e())}}),[]),$=c.useMemo(()=>({value:(e,t,n)=>{var l;t!==(null==(l=a.current.get(e))?void 0:l.value)&&(a.current.set(e,{value:t,keywords:n}),r.current.filtered.items.set(e,q(t,n)),V(2,()=>{L(),Z.emit()}))},item:(e,t)=>(n.current.add(e),t&&(l.current.has(t)?l.current.get(t).add(e):l.current.set(t,new Set([e]))),V(3,()=>{G(),L(),r.current.value||J(),Z.emit()}),()=>{a.current.delete(e),n.current.delete(e),r.current.filtered.items.delete(e);let t=T();V(4,()=>{G(),(null==t?void 0:t.getAttribute("id"))===e&&J(),Z.emit()})}),group:e=>(l.current.has(e)||l.current.set(e,new Set),()=>{a.current.delete(e),l.current.delete(e)}),filter:()=>s.current.shouldFilter,label:o||e["aria-label"],disablePointerSelection:N,listId:A,inputId:P,labelId:_,listInnerRef:F}),[]);function q(e,t){var n,l;let a=null!=(l=null==(n=s.current)?void 0:n.filter)?l:x;return e?a(e,r.current.search,t):0}function L(){if(!r.current.search||!1===s.current.shouldFilter)return;let e=r.current.filtered.items,t=[];r.current.filtered.groups.forEach(r=>{let n=l.current.get(r),a=0;n.forEach(t=>{a=Math.max(e.get(t),a)}),t.push([r,a])});let n=F.current;U().sort((t,r)=>{var n,l;let a=t.getAttribute("id"),i=r.getAttribute("id");return(null!=(n=e.get(i))?n:0)-(null!=(l=e.get(a))?l:0)}).forEach(e=>{let t=e.closest(f);t?t.appendChild(e.parentElement===t?e:e.closest(`${f} > *`)):n.appendChild(e.parentElement===n?e:e.closest(`${f} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{let t=F.current.querySelector(`${d}[${v}="${encodeURIComponent(e[0])}"]`);null==t||t.parentElement.appendChild(t)})}function J(){let e=U().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute(v);Z.setState("value",t||void 0)}function G(){var e,t,i,o;if(!r.current.search||!1===s.current.shouldFilter){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let c=0;for(let l of n.current){let n=q(null!=(t=null==(e=a.current.get(l))?void 0:e.value)?t:"",null!=(o=null==(i=a.current.get(l))?void 0:i.keywords)?o:[]);r.current.filtered.items.set(l,n),n>0&&c++}for(let[e,t]of l.current)for(let n of t)if(r.current.filtered.items.get(n)>0){r.current.filtered.groups.add(e);break}r.current.filtered.count=c}function K(){var e,t,r;let n=T();n&&((null==(e=n.parentElement)?void 0:e.firstChild)===n&&(null==(r=null==(t=n.closest(d))?void 0:t.querySelector('[cmdk-group-heading=""]'))||r.scrollIntoView({block:"nearest"})),n.scrollIntoView({block:"nearest"}))}function T(){var e;return null==(e=F.current)?void 0:e.querySelector(`${m}[aria-selected="true"]`)}function U(){var e;return Array.from(null==(e=F.current)?void 0:e.querySelectorAll(h))}function X(e){let t=U()[e];t&&Z.setState("value",t.getAttribute(v))}function H(e){var t;let r=T(),n=U(),l=n.findIndex(e=>e===r),a=n[l+e];null!=(t=s.current)&&t.loop&&(a=l+e<0?n[n.length-1]:l+e===n.length?n[0]:n[l+e]),a&&Z.setState("value",a.getAttribute(v))}function Y(e){let t=T(),r=null==t?void 0:t.closest(d),n;for(;r&&!n;)n=null==(r=e>0?function(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}(r,d):function(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}(r,d))?void 0:r.querySelector(h);n?Z.setState("value",n.getAttribute(v)):H(e)}let B=()=>X(U().length-1),Q=e=>{e.preventDefault(),e.metaKey?B():e.altKey?Y(1):H(1)},ee=e=>{e.preventDefault(),e.metaKey?X(0):e.altKey?Y(-1):H(-1)};return c.createElement(u.WV.div,{ref:t,tabIndex:-1,...I,"cmdk-root":"",onKeyDown:e=>{var t;if(null==(t=I.onKeyDown)||t.call(I,e),!e.defaultPrevented)switch(e.key){case"n":case"j":E&&e.ctrlKey&&Q(e);break;case"ArrowDown":Q(e);break;case"p":case"k":E&&e.ctrlKey&&ee(e);break;case"ArrowUp":ee(e);break;case"Home":e.preventDefault(),X(0);break;case"End":e.preventDefault(),B();break;case"Enter":if(!e.nativeEvent.isComposing&&229!==e.keyCode){e.preventDefault();let t=T();if(t){let e=new Event(p);t.dispatchEvent(e)}}}}},c.createElement("label",{"cmdk-label":"",htmlFor:$.inputId,id:$.labelId,style:W},o),O(e,e=>c.createElement(y.Provider,{value:Z},c.createElement(g.Provider,{value:$},e))))}),C=c.forwardRef((e,t)=>{var r,n;let l=c.useId(),a=c.useRef(null),i=c.useContext(w),s=b(),o=R(e),d=null!=(n=null==(r=o.current)?void 0:r.forceMount)?n:null==i?void 0:i.forceMount;D(()=>{if(!d)return s.item(l,null==i?void 0:i.id)},[d]);let f=V(l,a,[e.value,e.children,a],e.keywords),m=j(),h=F(e=>e.value&&e.value===f.current),v=F(e=>!!d||!1===s.filter()||!e.search||e.filtered.items.get(l)>0);function x(){var e,t;g(),null==(t=(e=o.current).onSelect)||t.call(e,f.current)}function g(){m.setState("value",f.current,!0)}if(c.useEffect(()=>{let t=a.current;if(!(!t||e.disabled))return t.addEventListener(p,x),()=>t.removeEventListener(p,x)},[v,e.onSelect,e.disabled]),!v)return null;let{disabled:y,value:S,onSelect:C,forceMount:k,keywords:N,...E}=e;return c.createElement(u.WV.div,{ref:P([a,t]),...E,id:l,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!h,"data-disabled":!!y,"data-selected":!!h,onPointerMove:y||s.disablePointerSelection?void 0:g,onClick:y?void 0:x},e.children)}),k=c.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:l,...a}=e,i=c.useId(),s=c.useRef(null),o=c.useRef(null),d=c.useId(),f=b(),m=F(e=>!!l||!1===f.filter()||!e.search||e.filtered.groups.has(i));D(()=>f.group(i),[]),V(i,s,[e.value,e.heading,o]);let h=c.useMemo(()=>({id:i,forceMount:l}),[l]);return c.createElement(u.WV.div,{ref:P([s,t]),...a,"cmdk-group":"",role:"presentation",hidden:!m||void 0},r&&c.createElement("div",{ref:o,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),O(e,e=>c.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},c.createElement(w.Provider,{value:h},e))))}),N=c.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,l=c.useRef(null),a=F(e=>!e.search);return r||a?c.createElement(u.WV.div,{ref:P([l,t]),...n,"cmdk-separator":"",role:"separator"}):null}),E=c.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,l=null!=e.value,a=j(),i=F(e=>e.search),s=F(e=>e.value),o=b(),d=c.useMemo(()=>{var e;let t=null==(e=o.listInnerRef.current)?void 0:e.querySelector(`${m}[${v}="${encodeURIComponent(s)}"]`);return null==t?void 0:t.getAttribute("id")},[]);return c.useEffect(()=>{null!=e.value&&a.setState("search",e.value)},[e.value]),c.createElement(u.WV.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":o.listId,"aria-labelledby":o.labelId,"aria-activedescendant":d,id:o.inputId,type:"text",value:l?e.value:i,onChange:e=>{l||a.setState("search",e.target.value),null==r||r(e.target.value)}})}),I=c.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...l}=e,a=c.useRef(null),i=c.useRef(null),s=b();return c.useEffect(()=>{if(i.current&&a.current){let e=i.current,t=a.current,r,n=new ResizeObserver(()=>{r=requestAnimationFrame(()=>{let r=e.offsetHeight;t.style.setProperty("--cmdk-list-height",r.toFixed(1)+"px")})});return n.observe(e),()=>{cancelAnimationFrame(r),n.unobserve(e)}}},[]),c.createElement(u.WV.div,{ref:P([a,t]),...l,"cmdk-list":"",role:"listbox","aria-label":n,id:s.listId},O(e,e=>c.createElement("div",{ref:P([i,s.listInnerRef]),"cmdk-list-sizer":""},e)))}),A=c.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:l,contentClassName:a,container:i,...s}=e;return c.createElement(o.fC,{open:r,onOpenChange:n},c.createElement(o.h_,{container:i},c.createElement(o.aV,{"cmdk-overlay":"",className:l}),c.createElement(o.VY,{"aria-label":e.label,"cmdk-dialog":"",className:a},c.createElement(S,{ref:t,...s}))))}),_=Object.assign(S,{List:I,Item:C,Input:E,Group:k,Separator:N,Dialog:A,Empty:c.forwardRef((e,t)=>F(e=>0===e.filtered.count)?c.createElement(u.WV.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Loading:c.forwardRef((e,t)=>{let{progress:r,children:n,label:l="Loading...",...a}=e;return c.createElement(u.WV.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":l},O(e,e=>c.createElement("div",{"aria-hidden":!0},e)))})});function R(e){let t=c.useRef(e);return D(()=>{t.current=e}),t}var D="undefined"==typeof window?c.useEffect:c.useLayoutEffect;function M(e){let t=c.useRef();return void 0===t.current&&(t.current=e()),t}function P(e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}function F(e){let t=j(),r=()=>e(t.snapshot());return c.useSyncExternalStore(t.subscribe,r,r)}function V(e,t,r,n=[]){let l=c.useRef(),a=b();return D(()=>{var i;let s=(()=>{var e;for(let t of r){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():l.current}})(),o=n.map(e=>e.trim());a.value(e,s,o),null==(i=t.current)||i.setAttribute(v,s),l.current=s}),l}var z=()=>{let[e,t]=c.useState(),r=M(()=>new Map);return D(()=>{r.current.forEach(e=>e()),r.current=new Map},[e]),(e,n)=>{r.current.set(e,n),t({})}};function O({asChild:e,children:t},r){let n;return e&&c.isValidElement(t)?c.cloneElement("function"==typeof(n=t.type)?n(t.props):"render"in n?n.render(t.props):t,{ref:t.ref},r(t.props.children)):r(t)}var W={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"}}},function(e){e.O(0,[900,572,950,902,442,63,998,671,830,704,288,427,766,399,241,971,69,744],function(){return e(e.s=5376)}),_N_E=e.O()}]);